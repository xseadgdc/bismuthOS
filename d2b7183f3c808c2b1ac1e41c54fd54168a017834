{
  "comments": [
    {
      "key": {
        "uuid": "165a0b01_d9ad0867",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2019-07-12T20:40:06Z",
      "side": 1,
      "message": "can we avoid this ?  some of these repos are going to be thrashing and no one is going to remember to update.\n\nbranches in edk2 get created \u0026 used for every new Intel SoC for example.",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3de704d5_a7d5e5c1",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1301133
      },
      "writtenOn": "2019-07-12T21:07:53Z",
      "side": 1,
      "message": "Not yet. We planned to only enable the plugin for active dev branches to avoid the issue of stale OWNERS files in pinned branches.\n\nMy plans for a branch ownership system will provide a frictionless way for branch owners to override in-tree OWNERS, so when that launches we can remove all of these special cases and just enable the plugin everywhere.",
      "parentUuid": "165a0b01_d9ad0867",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac7f86b7_9fbaba74",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2019-07-12T21:12:46Z",
      "side": 1,
      "message": "i don\u0027t know what you mean by stale/pinned branches.  if people are posting CLs to a branch, then it\u0027s not really stale is it ?  the OWNERS file should be up to date.",
      "parentUuid": "3de704d5_a7d5e5c1",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bafdad56_11b914aa",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1301133
      },
      "writtenOn": "2019-07-12T21:13:58Z",
      "side": 1,
      "message": "release and factory branches. they\u0027ll get cherry-picked fixes but the OWNERS might be arbitrarily stale.",
      "parentUuid": "ac7f86b7_9fbaba74",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3103a8ee_7449f779",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2019-07-12T21:27:41Z",
      "side": 1,
      "message": "arguably, if release \u0026 factory \u0026 firmware branches are being updated, then OWNERS should also be kept up to date.  i\u0027m not sure why teams who want to enforce OWNERS in master would be OK with opening up the branches whose code actually hits released devices to anyone.\n\non a related note, i don\u0027t think the cross-repo include syntax respects branches does it ?  so things like https://crrev.com/c/1661090 would always be pointing to OWNERS files in the master branch even when merging CLs to release/etc... branches ...",
      "parentUuid": "bafdad56_11b914aa",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8093a7d5_4712772e",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1301133
      },
      "writtenOn": "2019-07-12T21:34:57Z",
      "side": 1,
      "message": "factory \u0026 release branches: The idea is that changes will first go through master where they are subject to regular OWNERS review and then branch owners (TPMs or whoever) have control over what gets cherry-picked to their branch. Propagating OWNERS changes to 100+ branches is non-trivial and would end up in CLs getting approved initially and then getting rubber-stamped by the same people. The authority to pick to a factory/release branch ought to be totally separate from in-tree OWNERS IMO.\n\ncross-repo includes: I\u0027m not sure what the behavior is here. I will follow up with the plugin author.",
      "parentUuid": "3103a8ee_7449f779",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b10c196_81655480",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2019-07-12T21:48:06Z",
      "side": 1,
      "message": "100+ branches is a red herring.  people aren\u0027t landing CLs in every repo in a factory/firmware/release branch ... they\u0027re often touching a significantly smaller subset (\u003c10 for factory/firmware).  for releases, there\u0027s more, but that has the advantage of not being as stale, so OWNERS updates are not as big an issue.\n\nalso, the policy of \"commit must be in master first\" is an optimistic guideline.  depending on the age of the target branch, the patch might be significantly different, or it might never have been in master.  master-\u003erelease branches are usually more rubberstamps, but that\u0027s because of a freshness thing.\n\nit seems like the argument \"we have a policy where devs shouldn\u0027t be doing X thus OWNERS isn\u0027t necessary\" is exactly the same argument against having OWNERS files in the first place.  if people were following the policies we\u0027ve always had, then OWNERS would be useless.",
      "parentUuid": "8093a7d5_4712772e",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a41d5c99_e22c4f27",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1301133
      },
      "writtenOn": "2019-07-12T21:57:03Z",
      "side": 1,
      "message": "I don\u0027t disagree with you, I just think in-tree OWNERS is an awkward way to accomplish this. In-tree OWNERS apply only to a given repository, but a branch owner should be able to own that branch across *every* repository.\n\nA way to express this and mechanical enforcement of those rules are planned for next quarter, and I\u0027m sure there will be lots of fruitful discussion about what the concrete details look like.",
      "parentUuid": "2b10c196_81655480",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "069c5853_536643ad",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2019-07-12T22:15:36Z",
      "side": 1,
      "message": "OWNERS is awkward regardless of branching.  but some devs are asking for it anyways.\n\n\u003e but a branch owner should be able to own that branch across *every* repository.\n\nfor release branches, TPMs are the final owner.  but they aren\u0027t domain experts or individual repo owners.  a developer (anyone) files a bug and asks for permission to merge a change to a branch and the TPMs say yes/no.  but the only thing TPMs are checking is (1) the impact of the bug itself and (2) whatever the developer is claiming sounds reasonable.  they aren\u0027t verifying the developer is authorized (according to OWNERS) to do anything.\n\nbasically TPMs are relying on developers operating in good faith.  which is also how all branches work today -- we have no mechanism checking what CLs get merged into a branch and only allowing ones that have been approved (according to any rules).\n\nit gets back to \"we\u0027ve written some rules in a text document and expect everyone to read \u0026 follow them\".  which is how we\u0027ve always operated before OWNERS, so claiming it\u0027s redundant for branches while simultaneously saying it\u0027s not redundant for ToT doesn\u0027t line up.\n\ni\u0027m not saying we should enforce OWNERS on branches (or really anywhere :P), but i am saying that assuming that our flow today where TPMs say \"yes\" on a bug is entirely equivalent to OWNERS in ToT is incorrect.  TPMs don\u0027t exist for non-release branches (firmware/factory), so there\u0027s already a gap.\n\nwhether the wider developer community is OK with OWNERS not existing on non-ToT branches is a question that should be posed to them explicitly \u0026 documented as such.  i somewhat expect that the same people who think OWNERS files are the beesknees will want them enforced even on branches.",
      "parentUuid": "a41d5c99_e22c4f27",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebaacac6_10ded163",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1128435
      },
      "writtenOn": "2019-07-12T23:19:33Z",
      "side": 1,
      "message": "I think you two should gvc :-)\n\nRule of thumbs: any thread last more than 3 back-n-forth reply rounds worth converting to a GVC",
      "parentUuid": "069c5853_536643ad",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9cd3a4d_33a8bf61",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2019-07-12T20:40:06Z",
      "side": 1,
      "message": "we\u0027ve dropped this from the manifest, so you can just ignore it",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "885ed728_45f8613a",
        "filename": "rules.pl",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1301133
      },
      "writtenOn": "2019-07-12T21:07:53Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a9cd3a4d_33a8bf61",
      "revId": "d2b7183f3c808c2b1ac1e41c54fd54168a017834",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}